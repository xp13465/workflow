[ 2016-12-22T14:31:16+08:00 ] 192.168.20.18 /workflow
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0200s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0200s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0200s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = 1 LIMIT 1   [ RunTime:0.0200s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0400s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0300s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15,`select` as field16 FROM `workflow_formtable1dt2` WHERE `requestid` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0300s ]
SQL: SELECT `id`,`mainid`,`price` as field17,`num` as field18,`xiaoji` as field19,`select` as field20 FROM `workflow_formtable1dt3` WHERE `requestid` = 1  [ RunTime:0.0000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000000s ]
INFO: [ app_end ] --END-- [ RunTime:0.000000s ]

[ 2016-12-22T14:31:23+08:00 ] 192.168.20.18 /workflow/request
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000000s ]
INFO: [ app_end ] --END-- [ RunTime:0.000000s ]

[ 2016-12-22T14:31:27+08:00 ] 192.168.20.18 /workflow/request/form
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid`,`status`,`createuser` FROM `workflow_requestbase` WHERE `requestid` = -1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0200s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node` [ RunTime:0.0200s ]
SQL: SELECT `nodeid` FROM `workflow_node` WHERE `workflowid` = 1 AND `nodetype` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = -1 AND b.response = 0 AND b.afternode = '1' AND b.type IN ('1','2','3','5') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0200s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = -1 AND b.response is null LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid   WHERE a.requestid = -1 AND b.response = 0 AND b.type IN ('4') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = -1 AND b.response is null LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.afternode FROM workflow_requestbase a inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid  WHERE a.requestid = -1 AND ( FIND_IN_SET('1', b.afteruser) ) ORDER BY b.createtime desc LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0100s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '2' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 16  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '3' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 20  [ RunTime:0.0000s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = -1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = null LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT a.*,b.id FROM workflow_requestbase a INNER JOIN workflow_formtable b on a.requestid = b.requestid  WHERE a.requestid = -1 LIMIT 1   [ RunTime:0.0300s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = null AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: SELECT a.*,e.nodename as beforenodename,f.nodename as afternodename,b.realname as brforeusername,d.realname as modifyusername,group_concat(c.id) as afteruserids,group_concat(c.realname) as afterusernames FROM workflow_requestbase_processlog a left JOIN zibang.zb_user b on b.id = a.createuser left JOIN zibang.zb_user c on find_in_set(c.id,a.afteruser) left JOIN zibang.zb_user d on  d.id = a.modifyuser left JOIN workflow_node e on  e.nodeid = a.beforenode left JOIN workflow_node f on  f.nodeid = a.afternode  WHERE `requestid` = -1 GROUP BY a.id  [ RunTime:0.0000s ]
SQL: SELECT `beforesql` FROM `workflow_node` WHERE `nodeid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT `nodetype` FROM `workflow_node` WHERE `nodeid` = 1 LIMIT 1   [ RunTime:0.0100s ]
NOTIC: [8] Undefined index: requestid E:\192.168.1.126\zbcode\Application\Workflow\Model\WorkflowRequestbaseModel.class.php 第 774 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.030000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.030000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000000s ]
INFO: [ app_end ] --END-- [ RunTime:0.000000s ]

[ 2016-12-22T14:31:59+08:00 ] 192.168.20.18 /Workflow/Request/formSubmit/type/2
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT b.nodetype,a.nodeid FROM workflow_requestbase a INNER JOIN workflow_node b on a.nodeid = b.nodeid  WHERE `requestid` = '-1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0100s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1` [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: validate E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
NOTIC: [8] Undefined variable: errormsg E:\192.168.1.126\zbcode\Application\Workflow\Controller\RequestController.class.php 第 331 行.

[ 2016-12-22T14:32:06+08:00 ] 192.168.20.18 /Workflow/Request/formSubmit/type/2
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT b.nodetype,a.nodeid FROM workflow_requestbase a INNER JOIN workflow_node b on a.nodeid = b.nodeid  WHERE `requestid` = '-1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1` [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: validate E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
SQL: INSERT INTO `workflow_requestbase` (`formtableid`,`workflowid`,`nodeid`,`status`,`createuser`,`createtime`) VALUES ('1','1','1','1','1','2016-12-22 14:32:05') [ RunTime:0.0700s ]
SQL: INSERT INTO `workflow_formtable1` (`riqi`,`jine`,`select`,`xingming`,`shixiang`,`shuliang`,`shijian`,`fujian`,`yuangong`,`xuanxiang`,`beizhu`,`requestid`) VALUES ('20161212','20','2','','','0','0000-00-00 00:00:00','','0','','','186') [ RunTime:0.0600s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 186 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '186' AND b.response = 0 AND b.afternode = '1' AND b.type IN ('1') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '186' AND b.response is null LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`response`,`beforenode`,`beforeuser`,`afternode`,`afteruser`,`type`,`status`,`memo`,`createtime`,`modifytime`,`modifyuser`,`createuser`) VALUES ('186','1','0','0','1','1','1','1','创建流程！','2016-12-22 14:32:05','2016-12-22 14:32:05','1','1') [ RunTime:0.0000s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 186 LIMIT 1   [ RunTime:0.0100s ]
SQL: SELECT group_concat(b.afteruser) as uids FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '186' AND b.response = 0 AND b.type IN ('1','2','3','5') LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_outlet` [ RunTime:0.0450s ]
SQL: SELECT `afternode`,`beforenode`,`conditiondesc`,`conditionsql` FROM `workflow_outlet` WHERE `workflowid` = 1 AND `type` = 1 AND `beforenode` = 1 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0200s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 186 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '186' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15,`select` as field16 FROM `workflow_formtable1dt2` WHERE `requestid` = 186  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field17,`num` as field18,`xiaoji` as field19,`select` as field20 FROM `workflow_formtable1dt3` WHERE `requestid` = 186  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT * FROM `workflow_node_process` WHERE `workflowid` = 1 AND `nodeid` = 2  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process_rule` [ RunTime:0.0100s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 2 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `zibang`.`zb_user` [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '186' and `shixiang`  = 1 ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 5 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '186' and `jine`  >100 ) LIMIT 1   [ RunTime:0.0000s ]
NOTIC: [8] Undefined variable: errormsg E:\192.168.1.126\zbcode\Application\Workflow\Controller\RequestController.class.php 第 284 行.

[ 2016-12-22T14:32:14+08:00 ] 192.168.20.18 /Workflow/Request/formSubmit/type/2
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.010000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT b.nodetype,a.nodeid FROM workflow_requestbase a INNER JOIN workflow_node b on a.nodeid = b.nodeid  WHERE `requestid` = '-1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1` [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: validate E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
SQL: INSERT INTO `workflow_requestbase` (`formtableid`,`workflowid`,`nodeid`,`status`,`createuser`,`createtime`) VALUES ('1','1','1','1','1','2016-12-22 14:32:13') [ RunTime:0.0630s ]
SQL: INSERT INTO `workflow_formtable1` (`riqi`,`jine`,`select`,`xingming`,`shixiang`,`shuliang`,`shijian`,`fujian`,`yuangong`,`xuanxiang`,`beizhu`,`requestid`) VALUES ('20161212','100','2','','','0','0000-00-00 00:00:00','','0','','','187') [ RunTime:0.1600s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 187 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '187' AND b.response = 0 AND b.afternode = '1' AND b.type IN ('1') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '187' AND b.response is null LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`response`,`beforenode`,`beforeuser`,`afternode`,`afteruser`,`type`,`status`,`memo`,`createtime`,`modifytime`,`modifyuser`,`createuser`) VALUES ('187','1','0','0','1','1','1','1','创建流程！','2016-12-22 14:32:13','2016-12-22 14:32:13','1','1') [ RunTime:0.0200s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 187 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(b.afteruser) as uids FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '187' AND b.response = 0 AND b.type IN ('1','2','3','5') LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_outlet` [ RunTime:0.0000s ]
SQL: SELECT `afternode`,`beforenode`,`conditiondesc`,`conditionsql` FROM `workflow_outlet` WHERE `workflowid` = 1 AND `type` = 1 AND `beforenode` = 1 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 187 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '187' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15,`select` as field16 FROM `workflow_formtable1dt2` WHERE `requestid` = 187  [ RunTime:0.0100s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field17,`num` as field18,`xiaoji` as field19,`select` as field20 FROM `workflow_formtable1dt3` WHERE `requestid` = 187  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT * FROM `workflow_node_process` WHERE `workflowid` = 1 AND `nodeid` = 2  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process_rule` [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 2 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `zibang`.`zb_user` [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '187' and `shixiang`  = 1 ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 5 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '187' and `jine`  >100 ) LIMIT 1   [ RunTime:0.0000s ]
NOTIC: [8] Undefined variable: errormsg E:\192.168.1.126\zbcode\Application\Workflow\Controller\RequestController.class.php 第 284 行.

[ 2016-12-22T14:32:18+08:00 ] 192.168.20.18 /Workflow/Request/formSubmit/type/2
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT b.nodetype,a.nodeid FROM workflow_requestbase a INNER JOIN workflow_node b on a.nodeid = b.nodeid  WHERE `requestid` = '-1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1` [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: validate E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
SQL: INSERT INTO `workflow_requestbase` (`formtableid`,`workflowid`,`nodeid`,`status`,`createuser`,`createtime`) VALUES ('1','1','1','1','1','2016-12-22 14:32:18') [ RunTime:0.0700s ]
SQL: INSERT INTO `workflow_formtable1` (`riqi`,`jine`,`select`,`xingming`,`shixiang`,`shuliang`,`shijian`,`fujian`,`yuangong`,`xuanxiang`,`beizhu`,`requestid`) VALUES ('20161212','120','2','','','0','0000-00-00 00:00:00','','0','','','188') [ RunTime:0.0420s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.afternode = '1' AND b.type IN ('1') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response is null LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`response`,`beforenode`,`beforeuser`,`afternode`,`afteruser`,`type`,`status`,`memo`,`createtime`,`modifytime`,`modifyuser`,`createuser`) VALUES ('188','1','0','0','1','1','1','1','创建流程！','2016-12-22 14:32:18','2016-12-22 14:32:18','1','1') [ RunTime:0.0000s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(b.afteruser) as uids FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.type IN ('1','2','3','5') LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_outlet` [ RunTime:0.0000s ]
SQL: SELECT `afternode`,`beforenode`,`conditiondesc`,`conditionsql` FROM `workflow_outlet` WHERE `workflowid` = 1 AND `type` = 1 AND `beforenode` = 1 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '188' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0100s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15,`select` as field16 FROM `workflow_formtable1dt2` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '1' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field17,`num` as field18,`xiaoji` as field19,`select` as field20 FROM `workflow_formtable1dt3` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT * FROM `workflow_node_process` WHERE `workflowid` = 1 AND `nodeid` = 2  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process_rule` [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 2 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `zibang`.`zb_user` [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '188' and `shixiang`  = 1 ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 5 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: SELECT COUNT(*) AS tp_count FROM `workflow_formtable1` WHERE ( requestid = '188' and `jine`  >100 ) LIMIT 1   [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`beforeuser`,`beforenode`,`afternode`,`response`,`afteruser`,`createuser`,`createtime`,`type`) VALUES ('188','1','1','2','0','1','1','2016-12-22 14:32:18','4') [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`beforeuser`,`beforenode`,`afternode`,`response`,`afteruser`,`createuser`,`createtime`,`type`) VALUES ('188','1','1','2','0','1','1','2016-12-22 14:32:18','2') [ RunTime:0.0000s ]
SQL: UPDATE `workflow_requestbase` SET `nodeid`='2',`status`='2',`cur_process`='1' WHERE `requestid` = 188 [ RunTime:0.0000s ]

[ 2016-12-22T14:32:19+08:00 ] 192.168.20.18 /workflow/request/form/requestid/188
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0100s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid`,`status`,`createuser` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.afternode = '2' AND b.type IN ('1','2','3','5') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.afternode FROM workflow_requestbase a inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid  WHERE a.requestid = '188' AND ( FIND_IN_SET('1', b.afteruser) ) ORDER BY b.createtime desc LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0100s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '2' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '3' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
NOTIC: [2] Invalid argument supplied for foreach() E:\192.168.1.126\zbcode\Application\Workflow\Model\WorkflowRequestbaseModel.class.php 第 41 行.
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '188' LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0100s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15 FROM `workflow_formtable1dt2` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid` FROM `workflow_formtable1dt3` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: SELECT a.*,e.nodename as beforenodename,f.nodename as afternodename,b.realname as brforeusername,d.realname as modifyusername,group_concat(c.id) as afteruserids,group_concat(c.realname) as afterusernames FROM workflow_requestbase_processlog a left JOIN zibang.zb_user b on b.id = a.createuser left JOIN zibang.zb_user c on find_in_set(c.id,a.afteruser) left JOIN zibang.zb_user d on  d.id = a.modifyuser left JOIN workflow_node e on  e.nodeid = a.beforenode left JOIN workflow_node f on  f.nodeid = a.afternode  WHERE `requestid` = '188' GROUP BY a.id  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node` [ RunTime:0.0000s ]
SQL: SELECT `beforesql` FROM `workflow_node` WHERE `nodeid` = 2 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT `nodetype` FROM `workflow_node` WHERE `nodeid` = 2 LIMIT 1   [ RunTime:0.0000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000000s ]
INFO: [ app_end ] --END-- [ RunTime:0.000000s ]

[ 2016-12-22T14:32:31+08:00 ] 192.168.20.18 /Workflow/Request/formSubmit/type/3
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT b.nodetype,a.nodeid FROM workflow_requestbase a INNER JOIN workflow_node b on a.nodeid = b.nodeid  WHERE `requestid` = '188' LIMIT 1   [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `workflow` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `workflow` WHERE `workflowid` = 1 LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: requestname E:\192.168.1.126\zbcode\Application\Workflow\Model\WorkflowRequestbaseModel.class.php 第 111 行.
SQL: SHOW COLUMNS FROM `workflow_formtable1` [ RunTime:0.0000s ]
SQL: SELECT `id` FROM `workflow_formtable1` WHERE (  188 ) LIMIT 1   [ RunTime:0.0000s ]
NOTIC: [8] Undefined index: validate E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1185 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
NOTIC: [8] Undefined index: auto E:\192.168.1.126\zbcode\Framework\Library\Think\Model.class.php 第 1128 行.
SQL: UPDATE `workflow_requestbase` SET `formtableid`='1',`modifyuser`='1',`modifytime`='2016-12-22 14:32:30' WHERE `requestid` = 188 [ RunTime:0.0800s ]
SQL: UPDATE `workflow_formtable1` SET `workflowid`='1',`requestid`='188' WHERE `requestid` = 188 [ RunTime:0.0600s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.afternode = '2' AND b.type IN ('2','3') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0000s ]
SQL: UPDATE `workflow_requestbase_processlog` SET `response`='1',`status`='1',`memo`='12123',`modifyuser`='1',`modifytime`='2016-12-22 14:32:31' WHERE `id` = 742 [ RunTime:0.0000s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(b.afteruser) as uids FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.type IN ('1','2','3','5') LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_outlet` [ RunTime:0.0000s ]
SQL: SELECT `afternode`,`beforenode`,`conditiondesc`,`conditionsql` FROM `workflow_outlet` WHERE `workflowid` = 1 AND `type` = 1 AND `beforenode` = 2 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0000s ]
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0100s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '188' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0000s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15 FROM `workflow_formtable1dt2` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '2' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0000s ]
SQL: SELECT `id`,`mainid` FROM `workflow_formtable1dt3` WHERE `requestid` = 188  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process` [ RunTime:0.0100s ]
SQL: SELECT * FROM `workflow_node_process` WHERE `workflowid` = 1 AND `nodeid` = 3  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `workflow_node_process_rule` [ RunTime:0.0000s ]
SQL: SELECT * FROM workflow_node_process_rule a WHERE `processid` = 3 ORDER BY `order` asc  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `zibang`.`zb_user` [ RunTime:0.0000s ]
SQL: SELECT `id`,`realname`,`email` FROM zibang.zb_user WHERE `id` IN ('1')  [ RunTime:0.0000s ]
SQL: INSERT INTO `workflow_requestbase_processlog` (`requestid`,`beforeuser`,`beforenode`,`afternode`,`response`,`afteruser`,`createuser`,`createtime`,`type`) VALUES ('188','1','2','3','0','1','1','2016-12-22 14:32:31','2') [ RunTime:0.0000s ]
SQL: UPDATE `workflow_requestbase` SET `nodeid`='3',`status`='2',`cur_process`='1' WHERE `requestid` = 188 [ RunTime:0.0000s ]

[ 2016-12-22T14:32:32+08:00 ] 192.168.20.18 /workflow/request/form/requestid/188
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.010000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase` [ RunTime:0.0000s ]
SQL: SELECT `workflowid`,`formtableid`,`nodeid`,`status`,`createuser` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT b.*,a.*,b.status as bstatus,c.nodetype FROM workflow_requestbase a inner JOIN workflow_node c on a.nodeid = c.nodeid left JOIN workflow_requestbase_processlog b on a.requestid = b.requestid and a.nodeid = b.afternode  WHERE a.requestid = '188' AND b.response = 0 AND b.afternode = '3' AND b.type IN ('1','2','3','5') AND ( b.afteruser = '1' or b.afteruser like '1,%' ) LIMIT 1   [ RunTime:0.0150s ]
SQL: SELECT b.afternode FROM workflow_requestbase a inner JOIN workflow_requestbase_processlog b on a.requestid = b.requestid  WHERE a.requestid = '188' AND ( FIND_IN_SET('1', b.afteruser) ) ORDER BY b.createtime desc LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `workflow_node_fields` [ RunTime:0.0010s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '1' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `formtable_fields_values` [ RunTime:0.0010s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 10  [ RunTime:0.0000s ]
SQL: SELECT `key`,`value`,`isdefault` FROM `formtable_fields_values` WHERE `fieldid` = 11  [ RunTime:0.0000s ]
SQL: SHOW COLUMNS FROM `formtable` [ RunTime:0.0010s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '2' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
SQL: SELECT a.fieldid,a.order,a.nodeid,b.formtableid,b.fieldname,b.fieldtitle,b.fieldtypechild,b.fieldtype,a.type,a.default,a.prompt,b.length FROM workflow_node_fields a inner JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '3' ORDER BY  a.order asc,a.id asc  [ RunTime:0.0000s ]
NOTIC: [2] Invalid argument supplied for foreach() E:\192.168.1.126\zbcode\Application\Workflow\Model\WorkflowRequestbaseModel.class.php 第 41 行.
SQL: SELECT `formtableid`,`nodeid` FROM `workflow_requestbase` WHERE `requestid` = 188 LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT group_concat(concat('b.`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '1' LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT a.*,b.id,b.`xingming` as field1,b.`riqi` as field2,b.`shixiang` as field3,b.`beizhu` as field4,b.`shuliang` as field5,b.`jine` as field6,b.`shijian` as field7,b.`fujian` as field8,b.`yuangong` as field9,b.`xuanxiang` as field10,b.`select` as field11 FROM workflow_requestbase a INNER JOIN workflow_formtable1 b on a.requestid = b.requestid  WHERE a.requestid = '188' LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT `formtableid` FROM `formtable` WHERE `parentid` = 1 AND `validflag` = 1  [ RunTime:0.0000s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '2' LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt2` [ RunTime:0.0010s ]
SQL: SELECT `id`,`mainid`,`price` as field13,`num` as field14,`xiaoji` as field15 FROM `workflow_formtable1dt2` WHERE `requestid` = 188  [ RunTime:0.0010s ]
SQL: SELECT group_concat(concat('`',b.fieldname,'` as ','field',b.fieldid)) as sqlfields FROM workflow_node_fields a INNER JOIN formtable_fields b on a.fieldid = b.fieldid  WHERE `nodeid` = '3' AND `formtableid` = '3' LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `workflow_formtable1dt3` [ RunTime:0.0010s ]
SQL: SELECT `id`,`mainid` FROM `workflow_formtable1dt3` WHERE `requestid` = 188  [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `workflow_requestbase_processlog` [ RunTime:0.0010s ]
SQL: SELECT a.*,e.nodename as beforenodename,f.nodename as afternodename,b.realname as brforeusername,d.realname as modifyusername,group_concat(c.id) as afteruserids,group_concat(c.realname) as afterusernames FROM workflow_requestbase_processlog a left JOIN zibang.zb_user b on b.id = a.createuser left JOIN zibang.zb_user c on find_in_set(c.id,a.afteruser) left JOIN zibang.zb_user d on  d.id = a.modifyuser left JOIN workflow_node e on  e.nodeid = a.beforenode left JOIN workflow_node f on  f.nodeid = a.afternode  WHERE `requestid` = '188' GROUP BY a.id  [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `workflow_node` [ RunTime:0.0000s ]
SQL: SELECT `beforesql` FROM `workflow_node` WHERE `nodeid` = 3 LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT `nodetype` FROM `workflow_node` WHERE `nodeid` = 3 LIMIT 1   [ RunTime:0.0000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000000s ]
INFO: [ app_end ] --END-- [ RunTime:0.000000s ]

